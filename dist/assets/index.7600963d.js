import{j as N,r as m,a as L,R as w,b as M}from"./vendor.c7104cd3.js";const S=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))d(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}};S();var j="/assets/pause-button.54354fcd.svg",E="/assets/play.6f93c999.svg",$="/assets/stop.dae1a02a.svg";const t=N.exports.jsx,r=N.exports.jsxs;function C(){const[o,c]=m.exports.useState(0),[i,d]=m.exports.useState(!1),[s,n]=m.exports.useState([]),[u,h]=m.exports.useState(!1),v=e=>{n(a=>[...a,...e])},y=()=>{const e=s.length-1,a=`${("0"+Math.floor(o/36e5%60)).slice(-2)}:${("0"+Math.floor(o/6e4%60)).slice(-2)}:${("0"+Math.floor(o/1e3%60)).slice(-2)}`;s.length!==0&&n(l=>{const p=l;return p[e].timespan.end=f(),p[e].timeperiod=a,[...p]})},b=(e,a)=>{n(l=>{const p=l;return p[e].lable=a,[...p]})},x=()=>{c(0),d(!1),n([])},f=()=>{const e=new Date;return`${e.getHours()}:${e.getMinutes()}`},g=async e=>{h(!0),(await L.post(`http://localhost:3001/${e}`,{list:s})).status===200&&h(!1)};return m.exports.useEffect(()=>{let e=0;if(i){e=setInterval(()=>{c(l=>l+10)},10);const a=f();v([{lable:"",timespan:{start:a,end:"..."},timeperiod:"..."}])}else i||(clearInterval(e),f(),y());return()=>clearInterval(e)},[i]),m.exports.useEffect(()=>{window.addEventListener("keydown",e=>{e.code==="Escape"&&d(a=>!a)})},[]),t("div",{className:"otime",children:r("main",{children:[r("div",{className:"time",children:[r("span",{className:"hours",children:[("0"+Math.floor(o/36e5%60)).slice(-2),":"]}),r("span",{className:"minutes",children:[("0"+Math.floor(o/6e4%60)).slice(-2),":"]}),t("span",{className:"seconds",children:("0"+Math.floor(o/1e3%60)).slice(-2)}),t("span",{className:"millisecond",children:("0"+o/10%100).slice(-2)})]}),r("div",{className:"control",children:[t("button",{className:"play",onClick:()=>d(e=>!e),children:t("img",{src:i?j:E,alt:i?"pause":"play"})}),t("button",{className:"operation",onClick:()=>{confirm("R u sure?")&&x()},children:t("img",{src:$,alt:"stop"})})]}),r("div",{className:"list",children:[r("div",{className:"export",children:[t("button",{className:"json",onClick:()=>g("json"),children:"JSON"}),t("button",{className:"csv",onClick:()=>g("csv"),disabled:u,children:"CSV"})]}),s.length!==0&&s.map((e,a)=>r("div",{className:"item",children:[t("span",{className:"order",children:a+1}),t("span",{className:"lable",children:t("input",{type:"text",id:"lable-1",defaultValue:e.lable,onChange:l=>b(a,l.target.value)})}),r("div",{className:"timespan",children:[t("span",{className:"timespan-start",children:e.timespan.start}),t("span",{children:" to "}),t("span",{className:"timespan-end",children:e.timespan.end})]}),t("span",{className:"timeperiod",children:e.timeperiod})]},a))]})]})})}w.render(t(M.StrictMode,{children:t(C,{})}),document.getElementById("root"));
